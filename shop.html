<!DOCTYPE html>
<html lang="en">
<script type="module' src="shop.js"></script>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Peony Stores – Shop</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#f9f9f9}
header{text-align:center;padding:35px 10px;background:linear-gradient(135deg,#7f00ff,#e100ff);color:#fff}
header h1{margin:0;font-size:40px}
header p{opacity:.9}

.controls{max-width:1200px;margin:20px auto;display:flex;gap:10px;padding:0 10px}
.controls input,.controls select{padding:10px;border-radius:8px;border:1px solid #ccc;flex:1}

.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:15px;
  max-width:1200px;
  margin:auto;
  padding:10px
}

.product-card{
  background:#fff;
  padding:10px;
  border-radius:10px;
  box-shadow:0 6px 15px rgba(0,0,0,.08)
}

.product-card img{
  width:100%;
  height:140px;
  object-fit:cover;
  border-radius:8px
}

.product-card h3{font-size:15px;margin:5px 0}
.product-card p{font-size:13px;margin:3px 0}

.qty-container {display:flex;align-items:center;gap:5px;margin:5px 0;}
.qty-container label{font-size:13px;font-weight:600;}
.qty{width:50px;padding:5px;text-align:center;border-radius:5px;border:1px solid #ccc;}
.qty-btn{padding:4px 7px;background:#7f00ff;color:#fff;border:none;border-radius:4px;cursor:pointer;}
.qty-btn:hover{opacity:0.9;}

.btn{width:100%;padding:8px;border:none;border-radius:6px;background:#7f00ff;color:#fff;cursor:pointer;}
.btn:hover{opacity:.9}

#checkoutBtn{display:block;margin:20px auto;padding:12px 30px;font-size:16}

/* Modal */
#cartModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);justify-content:center;align-items:center}
.modal-content{background:#fff;padding:20px;border-radius:12px;width:90%;max-width:500px}
.modal-content input{width:100%;padding:6px;margin:6px 0}

.cart-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
.cart-controls{display:flex;align-items:center;gap:5px;}

#cartNotification{position:fixed;bottom:20px;right:20px;background:#7f00ff;color:#fff;padding:10px 15px;border-radius:6px;display:none;box-shadow:0 5px 15px rgba(0,0,0,.2);}
#ordersModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);justify-content:center;align-items:center}
#ordersList{max-height:300px;overflow-y:auto;padding-right:5px;margin-top:10px;font-size:14px;}

.color-options {display:flex;gap:5px;margin:5px 0;}
.color-swatch{
  width:20px;
  height:20px;
  border-radius:50%;
  border:2px solid #ccc;
  cursor:pointer;
  transition: transform 0.1s, border 0.2s;
}
.color-swatch.selected{
  border:3px solid #7f00ff;
  transform: scale(1.2);
}
</style>
</head>
<body>

<header>
  <h1>PEONY STORES</h1>
  <p>Quality Hair & Beauty Products – Pickup Only</p>
</header>

<div class="controls">
  <input id="searchInput" placeholder="Search products…">
  <select id="categoryFilter">
    <option value="">All Categories</option>
    <option>Hair Care</option>
    <option>Facial & Body Care</option>
    <option>Body Scents</option>
    <option>Wears</option>
    <option>Food Corner</option>
    <option>Others</option>
  </select>
</div>

<div class="products" id="products"></div>

<button id="checkoutBtn" class="btn">Proceed to Checkout</button>
<button id="myOrdersBtn" class="btn" style="margin:10px auto; display:block; background:#555">My Orders</button>

<!-- CART MODAL -->
<div id="cartModal">
  <div class="modal-content">
    <h3>Cart Summary</h3>
    <div id="cartItems"></div>
    <p><b>Total:</b> ₦<span id="cartTotal">0</span></p>
    <input id="customerName" placeholder="Full Name">
    <input id="customerPhone" placeholder="Phone Number">
    <input id="customerEmail" placeholder="Email Address">
    <input id="customerAddress" placeholder="Delivery Address">
    <p style="font-size:13px;margin-top:10px">
    <b>Make payment to:</b><br>
    Bank: <b>Palmpay</b><br>
    Account Name: <b>Popoola Eniola oluwatosin</b><br>
    Account Number: <b>7017173474</b>
    </p>
    <label style="font-size:13px">Upload payment receipt (optional)</label>
    <input type="file" id="receiptFile" accept="image/*">
    <label style="font-size:13px">Upload payment receipt (link)</label>
    <input id="receiptUrl" placeholder="Paste receipt URL here (optional)">
    <button class="btn" onclick="confirmOrder()">Confirm Order & Get Order ID</button>
    <button class="btn" style="background:#ccc;color:#000;margin-top:5px" onclick="closeModal()">Cancel</button>
  </div>
</div>

<!-- ORDERS MODAL -->
<div id="ordersModal">
  <div class="modal-content">
    <h3>My Orders</h3>
    <input id="lookupPhone" placeholder="Enter your phone number to view orders">
    <div id="ordersList"></div>
    <button class="btn" onclick="closeOrders()" style="margin-top:10px">← Back to Shop</button>
  </div>
</div>

<div id="cartNotification">Added to cart!</div>

<!-- FIREBASE -->
</body>
</html>
