<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Peony Stores - Admin Panel</title>

<style>
body { font-family: Arial, sans-serif; background:#f9f9f9; margin:0; padding:20px; }
h1 { text-align:center; margin-bottom:20px; }
form { max-width:600px; margin:0 auto; background:#fff; padding:20px; border-radius:12px; box-shadow:0 6px 15px rgba(0,0,0,0.1); }
input, select, textarea { width:100%; padding:8px; margin:5px 0; border-radius:6px; border:1px solid #ccc; }
button { padding:10px 15px; margin-top:10px; border:none; background:#7f00ff; color:#fff; border-radius:6px; cursor:pointer; }
button:hover { background:#e100ff; }
table { width:100%; margin-top:30px; border-collapse: collapse; }
th, td { padding:10px; border:1px solid #ccc; text-align:left; font-size:14px; position: relative; }
th { background:#7f00ff; color:#fff; }
.status-select { width:150px; }
.filter-dropdown { position:absolute; background:#fff; border:1px solid #ccc; padding:5px; max-height:200px; overflow-y:auto; z-index:1000; }
.filter-dropdown div:hover { background:#f0f0f0; }
</style>
</head>

<body>

<h1>Peony Stores - Admin Panel</h1>

<!-- Add/Edit Product Form -->
<form id="addProductForm">
  <h3 id="formTitle">Add New Product</h3>
  <input type="hidden" id="editingIndex" value="">

  <input type="text" id="productName" placeholder="Product Name" required>
  <textarea id="descriptionInput" placeholder="Product Description" rows="3"></textarea>

  <select id="categorySelect" required>
    <option value="">Select Category</option>
    <option value="Hair Care">Hair Care</option>
    <option value="Facial & Body Care">Facial & Body Care</option>
    <option value="Body Scents">Body Scents</option>
    <option value="Wears">Wears</option>
    <option value="Food Corner">Food Corner</option>
    <option value="Others">Others</option>
  </select>

  <select id="subcategorySelect" required>
    <option value="">Select Subcategory</option>
  </select>

  <input type="text" id="colorsInput" placeholder="Colors (comma separated)">
  <input type="text" id="sizesInput" placeholder="Sizes (comma separated e.g. S,M,L,XL)">
  <input type="number" id="priceInput" placeholder="Price (₦)" required>
  <input type="number" id="stockInput" placeholder="Stock Quantity" required>

  <label>Product Image:</label>
  <input type="file" id="imageFileInput" accept="image/*">
  <input type="text" id="imageURLInput" placeholder="Or paste image URL">

  <button type="submit" id="submitBtn">Add Product</button>
</form>

<!-- Products Table -->
<h3>Products</h3>
<table id="productsTable">
  <thead>
    <tr>
      <th>Name</th>
      <th>Category</th>
      <th>Subcategory</th>
      <th>Colors</th>
      <th>Sizes</th>
      <th>Price</th>
      <th>Stock</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<!-- Orders Table -->
<h3>Orders</h3>
<label>From: <input type="date" id="csvFromDate"></label>
<label>To: <input type="date" id="csvToDate"></label>

<button onclick="downloadCSV()">Download Orders CSV</button>
<button onclick="resetAllFilters()">Reset All Filters</button>
<button id="logoutBtn" style="background:#e100ff;">Logout</button>

<table id="ordersTable">
  <thead>
    <tr>
      <th data-column="id">Order ID</th>
      <th data-column="customer">Customer</th>
      <th data-column="phone">Phone</th>
      <th data-column="address">Address</th>
      <th data-column="items">Items</th>
      <th data-column="total">Total</th>
      <th data-column="status">Status</th>
      <th data-column="receipt_url">Receipt</th>
      <th data-column="date">Date</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<!-- ✅ SCRIPT LOADED AFTER DOM -->
<script type="module" src="admin.js"></script>

</body>
</html>
